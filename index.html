<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LTP ê¸°ë°˜ GPS ì¢Œí‘œ ë³€í™˜ ê³„ì‚°ê¸°</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background: #f5f7fa;
            min-height: 100vh;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        .header {
            background: #ffffff;
            border: 2px solid #F22C00;
            border-radius: 8px;
            padding: 40px;
            text-align: center;
            margin-bottom: 30px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        
        .header h1 {
            color: #F22C00;
            font-size: 2.5em;
            margin-bottom: 15px;
            font-weight: 700;
        }
        
        .section {
            background: #ffffff;
            border: 1px solid #e1e5e9;
            border-radius: 8px;
            padding: 30px;
            margin-bottom: 25px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
        }
        
        .section h2 {
            color: #2c3e50;
            font-size: 1.8em;
            margin-bottom: 20px;
            border-bottom: 3px solid #F22C00;
            padding-bottom: 10px;
            font-weight: 600;
        }
        
        .section h3 {
            color: #34495e;
            font-size: 1.4em;
            margin: 25px 0 15px 0;
            font-weight: 600;
        }
        
        .algorithm-flow {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 25px 0;
        }
        
        .flow-step {
            background: #ffffff;
            color: #2c3e50;
            padding: 25px;
            border-radius: 8px;
            text-align: center;
            position: relative;
            border: 2px solid #F22C00;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }
        
        .flow-step::after {
            content: 'â†’';
            position: absolute;
            right: -15px;
            top: 50%;
            transform: translateY(-50%);
            font-size: 2em;
            color: #F22C00;
            font-weight: bold;
        }
        
        .flow-step:last-child::after {
            display: none;
        }
        
        .formula {
            background: #f8f9fa;
            border: 2px solid #F22C00;
            border-radius: 6px;
            padding: 20px;
            margin: 20px 0;
            text-align: center;
            font-family: 'Times New Roman', serif;
            font-size: 1.1em;
        }
        
        .highlight {
            background: #fff5f5;
            border: 1px solid #F22C00;
            padding: 15px;
            border-radius: 6px;
            margin: 15px 0;
            border-left: 4px solid #F22C00;
        }
        
        .coordinate-demo {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin: 25px 0;
        }
        
        .demo-panel {
            background: #f8f9fa;
            border: 2px solid #e9ecef;
            border-radius: 6px;
            padding: 20px;
            text-align: center;
        }
        
        .performance-table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            background: white;
            border-radius: 6px;
            overflow: hidden;
            border: 1px solid #e1e5e9;
        }
        
        .performance-table th {
            background: #F22C00;
            color: white;
            padding: 15px;
            text-align: left;
            font-weight: 600;
        }
        
        .performance-table td {
            padding: 12px 15px;
            border-bottom: 1px solid #e9ecef;
        }
        
        .performance-table tbody tr:hover {
            background: #f8f9fa;
        }
        
        .note {
            background: #fff8e1;
            border: 1px solid #ffc107;
            border-radius: 6px;
            padding: 15px;
            margin: 20px 0;
            border-left: 4px solid #ffc107;
        }
        
        .interactive-demo {
            background: #ffffff;
            border: 2px solid #F22C00;
            border-radius: 8px;
            padding: 25px;
            margin: 25px 0;
        }

        .input-group {
            display: flex;
            gap: 15px;
            margin: 15px 0;
            flex-wrap: wrap;
        }

        .input-group label {
            font-weight: 600;
            color: #2c3e50;
        }

        .input-group input {
            padding: 8px 12px;
            border: 2px solid #e1e5e9;
            border-radius: 4px;
            font-size: 14px;
            width: 180px;
        }

        .input-group input:focus {
            outline: none;
            border-color: #F22C00;
        }

        .calc-button {
            background: #F22C00;
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 16px;
            font-weight: 600;
            transition: background 0.2s;
            margin: 15px 0;
        }

        .calc-button:hover {
            background: #d41f00;
        }

        .result-display {
            background: #f0f9ff;
            border: 2px solid #0284c7;
            border-radius: 6px;
            padding: 15px;
            margin: 15px 0;
            font-family: monospace;
            white-space: pre-line;
        }

        @media (max-width: 768px) {
            .coordinate-demo {
                grid-template-columns: 1fr;
            }
            
            .algorithm-flow {
                grid-template-columns: 1fr;
            }
            
            .input-group {
                flex-direction: column;
            }
            
            .input-group input {
                width: 100%;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ“ LTP ê¸°ë°˜ GPS ì¢Œí‘œ ë³€í™˜</h1>
            <p>Local Tangent Planeì„ í™œìš©í•œ ê³ ì •ë°€ ì§€ë¦¬ì •ë³´ ë§¤í•‘ ê¸°ìˆ  ê°€ì´ë“œ</p>
        </div>

        <div class="section">
            <h2>ğŸ“‹ LTP ê°œìš”</h2>
            <p><strong>LTP (Local Tangent Plane)</strong>ëŠ” ì†Œê·œëª¨ ì§€ì—­ì—ì„œ GPS ì¢Œí‘œë¥¼ 2D í‰ë©´ ì¢Œí‘œë¡œ ë³€í™˜í•˜ëŠ” ì •ë°€ ë§¤í•‘ ê¸°ë²•ì…ë‹ˆë‹¤. 
            ì§€êµ¬ íƒ€ì›ì²´ í‘œë©´ì— ëŒ€í•œ ë¡œì»¬ ì ‘ì„  í‰ë©´ì„ ê¸°ì¤€ìœ¼ë¡œ í•˜ì—¬ ìµœì†Œí•œì˜ íˆ¬ì˜ ì™œê³¡ìœ¼ë¡œ ë†’ì€ ì •í™•ë„ë¥¼ ì œê³µí•©ë‹ˆë‹¤.</p>
            
            <div class="highlight">
                <strong>LTP ê¸°ë²•ì˜ í•µì‹¬ ì›ë¦¬:</strong>
                <ul>
                    <li>ì œí•œëœ ì§€ì—­ì—ì„œ ì§€êµ¬ ê³¡ë¥ ì˜ ì˜í–¥ì„ ìµœì†Œí™”</li>
                    <li>ì„ í˜• ë³€í™˜ì„ í†µí•œ ê³„ì‚° íš¨ìœ¨ì„± í™•ë³´</li>
                    <li>ì‹¤ì¸¡ ê±°ë¦¬ì™€ íˆ¬ì˜ ê±°ë¦¬ ê°„ ë¹„ë¡€ì„± ìœ ì§€</li>
                    <li>ì¸¡ì§€í•™ì  ì •í™•ì„±ê³¼ ì²˜ë¦¬ ì†ë„ì˜ ìµœì  ê· í˜•</li>
                </ul>
            </div>
        </div>

        <div class="section">
            <h2>ğŸ“ LTP (Local Tangent Plane) íˆ¬ì˜ë²•</h2>
            
            <h3>ğŸ¤” LTPë€ ë¬´ì—‡ì¸ê°€ìš”?</h3>
            <div class="highlight">
                <strong>Local Tangent Plane</strong>ì€ "ì§€ì—­ ì ‘ì„  í‰ë©´"ì´ë¼ëŠ” ëœ»ì…ë‹ˆë‹¤.<br>
                ì‰½ê²Œ ë§í•´, ì§€êµ¬ì˜ ë‘¥ê·¼ í‘œë©´ì— í‰í‰í•œ ì¢…ì´ë¥¼ ì‚´ì§ ëŒ€ê³  ê·¸ ìœ„ì— ì§€ë„ë¥¼ ê·¸ë¦¬ëŠ” ë°©ì‹ì…ë‹ˆë‹¤.
            </div>
            
            <div class="coordinate-demo">
                <div class="demo-panel">
                    <h4>ğŸŒ ì§€êµ¬ í‘œë©´ (ê³¡ë©´)</h4>
                    <div style="width: 150px; height: 150px; border-radius: 50%; background: #34495e; margin: 15px auto; position: relative; border: 3px solid #2c3e50;">
                        <div style="position: absolute; top: 50%; left: 50%; width: 6px; height: 6px; background: #F22C00; border-radius: 50%; transform: translate(-50%, -50%);"></div>
                        <div style="position: absolute; bottom: 20px; left: 50%; transform: translateX(-50%); color: white; font-size: 12px; font-weight: 600;">GPS ì¢Œí‘œ</div>
                    </div>
                </div>
                <div class="demo-panel">
                    <h4>ğŸ“„ ì ‘ì„  í‰ë©´ (í‰ë©´)</h4>
                    <div style="width: 150px; height: 150px; background: #f8f9fa; border: 3px solid #2c3e50; margin: 15px auto; position: relative;">
                        <div style="position: absolute; top: 50%; left: 50%; width: 6px; height: 6px; background: #F22C00; border-radius: 50%; transform: translate(-50%, -50%);"></div>
                        <div style="position: absolute; bottom: 10px; left: 50%; transform: translateX(-50%); color: #333; font-size: 12px; font-weight: 600;">í™”ë©´ ì¢Œí‘œ</div>
                    </div>
                </div>
            </div>
            
            <h3>ğŸ“Š LTP ë³€í™˜ ìˆ˜í•™ ê³µì‹</h3>
            
            <div class="formula">
                <strong>1. ê¸°ë³¸ LTP ë³€í™˜ ê³µì‹</strong><br><br>
                <strong>X ì¢Œí‘œ (ë™ì„œ ë°©í–¥):</strong><br>
                X = R Ã— (Î» - Î»â‚€) Ã— cos(Ï†â‚€)<br><br>
                <strong>Y ì¢Œí‘œ (ë‚¨ë¶ ë°©í–¥):</strong><br>
                Y = R Ã— (Ï† - Ï†â‚€)<br><br>
                <small>
                â€¢ R = ì§€êµ¬ ë°˜ì§€ë¦„ (6,378,137 m)<br>
                â€¢ Ï† = í˜„ì¬ ì ì˜ ìœ„ë„ (ë¼ë””ì•ˆ)<br>
                â€¢ Î» = í˜„ì¬ ì ì˜ ê²½ë„ (ë¼ë””ì•ˆ)<br>
                â€¢ Ï†â‚€ = ê¸°ì¤€ì ì˜ ìœ„ë„ (ë¼ë””ì•ˆ)<br>
                â€¢ Î»â‚€ = ê¸°ì¤€ì ì˜ ê²½ë„ (ë¼ë””ì•ˆ)
                </small>
            </div>
            
            <div class="formula">
                <strong>2. ë„(degree)ë¥¼ ë¼ë””ì•ˆ(radian)ìœ¼ë¡œ ë³€í™˜</strong><br><br>
                ë¼ë””ì•ˆ = ë„ Ã— (Ï€ / 180)<br><br>
                <small>
                â€¢ Ï€ â‰ˆ 3.14159<br>
                â€¢ ì˜ˆ: 37.5665Â° = 37.5665 Ã— (Ï€/180) â‰ˆ 0.6556 ë¼ë””ì•ˆ
                </small>
            </div>
            
            <div class="formula">
                <strong>3. ê²½ë„ ë³´ì • ê³µì‹</strong><br><br>
                ê²½ë„_ë³´ì •_ê³„ìˆ˜ = cos(Ï†â‚€)<br>
                ì‹¤ì œ_Xê±°ë¦¬ = X Ã— ê²½ë„_ë³´ì •_ê³„ìˆ˜<br><br>
                <small>
                â€¢ ìœ„ë„ê°€ ë†’ì„ìˆ˜ë¡ ê²½ë„ ê°„ê²©ì´ ì¢ì•„ì§€ë¯€ë¡œ ë³´ì • í•„ìš”<br>
                â€¢ ì ë„(0Â°)ì—ì„œ cos(0Â°) = 1 (ë³´ì • ì—†ìŒ)<br>
                â€¢ ê·¹ì§€ë°©(90Â°)ì—ì„œ cos(90Â°) = 0 (ê²½ë„ ì˜ë¯¸ ì—†ìŒ)
                </small>
            </div>
            
            <div class="formula">
                <strong>4. í™”ë©´ ì¢Œí‘œ ë³€í™˜ ê³µì‹</strong><br><br>
                <strong>ìŠ¤ì¼€ì¼ ê³„ì‚°:</strong><br>
                scale = í™”ë©´í¬ê¸° / max(Xë²”ìœ„, Yë²”ìœ„)<br><br>
                <strong>ìµœì¢… í™”ë©´ ì¢Œí‘œ:</strong><br>
                screen_x = X Ã— scale + í™”ë©´ì¤‘ì‹¬_x<br>
                screen_y = -Y Ã— scale + í™”ë©´ì¤‘ì‹¬_y<br><br>
                <small>
                â€¢ Yì— ë§ˆì´ë„ˆìŠ¤(-)ë¥¼ ë¶™ì´ëŠ” ì´ìœ : í™”ë©´ì€ ìœ„ìª½ì´ 0ì´ì§€ë§Œ ì§€ë„ëŠ” ë¶ìª½ì´ +
                </small>
            </div>
            
            <div class="formula">
                <strong>5. ê±°ë¦¬ ê³„ì‚° ê³µì‹</strong><br><br>
                ì§ì„ ê±°ë¦¬ = âˆš(XÂ² + YÂ²)<br><br>
                <small>
                â€¢ ê¸°ì¤€ì ì—ì„œ í˜„ì¬ ì ê¹Œì§€ì˜ ì‹¤ì œ ê±°ë¦¬(ë¯¸í„°)
                â€¢ í”¼íƒ€ê³ ë¼ìŠ¤ ì •ë¦¬ ì ìš©
                </small>
            </div>
            
            <h3>ğŸ¯ ê¸°ìˆ ì  íŠ¹ì¥ì </h3>
            <ul>
                <li><strong>ì¸¡ì§€ ì •í™•ë„:</strong> 30km ë°˜ê²½ ë‚´ Â±1m ìˆ˜ì¤€ì˜ ë³€í™˜ ì •ë°€ë„</li>
                <li><strong>ì—°ì‚° íš¨ìœ¨ì„±:</strong> O(1) ì‹œê°„ë³µì¡ë„ë¡œ ì‹¤ì‹œê°„ ì²˜ë¦¬ ì§€ì›</li>
                <li><strong>ê±°ë¦¬ ë³´ì¡´ì„±:</strong> ì‹¤ì¸¡ ê±°ë¦¬ì™€ íˆ¬ì˜ ê±°ë¦¬ ê°„ ì„ í˜• ê´€ê³„ ìœ ì§€</li>
                <li><strong>êµ¬í˜„ ë‹¨ìˆœì„±:</strong> ë³µì¡í•œ ì§€ë„ íˆ¬ì˜ ì•Œê³ ë¦¬ì¦˜ ëŒ€ë¹„ ê°„ì†Œí™”ëœ ìˆ˜ì‹</li>
            </ul>
            
            <h3>ğŸ“ ì ìš© ë²”ìœ„ ë° ì¡°ê±´</h3>
            <div class="note">
                <strong>LTP ìµœì  ì ìš© ì¡°ê±´:</strong><br>
                â€¢ ì»¤ë²„ë¦¬ì§€: 30km ì´í•˜ì˜ ì§€ì—­ì  ë²”ìœ„<br>
                â€¢ ìœ„ë„ ì¡°ê±´: 60ë„ ì´ìƒ ê³ ìœ„ë„ ì§€ì—­ (ê²½ë„ì„  ìˆ˜ë ´ ë³´ì •)<br>
                â€¢ ìš©ë„: ì •ë°€ ì¸¡ëŸ‰, ë¡œì»¬ ë‚´ë¹„ê²Œì´ì…˜, GIS ë¶„ì„
            </div>
        </div>

        <div class="section">
            <h2>ğŸ“Š LTPì˜ íŠ¹ì„±</h2>
            <table class="performance-table">
                <thead>
                    <tr>
                        <th>íŠ¹ì„±</th>
                        <th>ê°’</th>
                        <th>ì„¤ëª…</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>ì •í™•ë„</strong></td>
                        <td>ë§¤ìš° ë†’ìŒ</td>
                        <td>30km ì´í•˜ì—ì„œëŠ” ê±°ì˜ ì˜¤ì°¨ê°€ ì—†ìŒ</td>
                    </tr>
                    <tr>
                        <td><strong>ê³„ì‚° ì†ë„</strong></td>
                        <td>ë¹ ë¦„</td>
                        <td>ê°„ë‹¨í•œ ìˆ˜ì‹ìœ¼ë¡œ ë¹ ë¥¸ ì²˜ë¦¬</td>
                    </tr>
                    <tr>
                        <td><strong>ì ìš© ë²”ìœ„</strong></td>
                        <td>ì†Œê·œëª¨ ì§€ì—­</td>
                        <td>ë„ì‹œ, ì‚°ì±…ë¡œ, ë“œë¼ì´ë¸Œ ì½”ìŠ¤ ë“±</td>
                    </tr>
                    <tr>
                        <td><strong>íŠ¹ì§•</strong></td>
                        <td>ì§ê´€ì </td>
                        <td>ì‹¤ì œ ê±°ë¦¬ì™€ í™”ë©´ ê±°ë¦¬ê°€ ë¹„ë¡€</td>
                    </tr>
                </tbody>
            </table>
        </div>

        <div class="section">
            <h2>ğŸ”„ LTP ë³€í™˜ í”„ë¡œì„¸ìŠ¤</h2>
            <div class="algorithm-flow">
                <div class="flow-step">
                    <h3>1. ê¸°ì¤€ì  ì„¤ì •</h3>
                    <p>ì¸¡ëŸ‰ ì˜ì—­ ì¤‘ì‹¬ì ì„ ì ‘ì„  í‰ë©´ì˜ ì›ì ìœ¼ë¡œ ì„¤ì •í•˜ì—¬ íˆ¬ì˜ ì™œê³¡ì„ ìµœì†Œí™”í•©ë‹ˆë‹¤.</p>
                </div>
                <div class="flow-step">
                    <h3>2. ì¸¡ì§€ ê±°ë¦¬ ê³„ì‚°</h3>
                    <p>íƒ€ì›ì²´ í‘œë©´ì—ì„œì˜ ì‹¤ì œ ê±°ë¦¬ë¥¼ ì§€êµ¬ ë°˜ì§€ë¦„ ê¸°ë°˜ ì„ í˜• ë³€í™˜ìœ¼ë¡œ ì‚°ì¶œí•©ë‹ˆë‹¤.</p>
                </div>
                <div class="flow-step">
                    <h3>3. ì¢Œí‘œê³„ ë³€í™˜</h3>
                    <p>ì¸¡ì§€ ì¢Œí‘œê³„(WGS84)ë¥¼ ë¡œì»¬ ì§êµì¢Œí‘œê³„ë¡œ ë³€í™˜í•˜ì—¬ í‰ë©´ ë§¤í•‘ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤.</p>
                </div>
                <div class="flow-step">
                    <h3>4. ìŠ¤ì¼€ì¼ë§ ì ìš©</h3>
                    <p>ì¶œë ¥ í•´ìƒë„ì— ë§ëŠ” í”½ì…€ ì¢Œí‘œë¡œ ì •ê·œí™”í•˜ì—¬ ìµœì¢… í™”ë©´ ì¢Œí‘œë¥¼ ìƒì„±í•©ë‹ˆë‹¤.</p>
                </div>
            </div>
            
            <div class="note">
                <strong>ğŸ“ ì¸¡ì§€í•™ì  ê·¼ê±°:</strong><br>
                ì†Œê·œëª¨ ì§€ì—­ì—ì„œëŠ” ì§€êµ¬ íƒ€ì›ì²´ì˜ ê³¡ë¥  íš¨ê³¼ê°€ ë¬´ì‹œ ê°€ëŠ¥í•œ ìˆ˜ì¤€ì´ë¯€ë¡œ, 
                ì ‘ì„  í‰ë©´ ê·¼ì‚¬ë¥¼ í†µí•´ 1ê¸‰ ì¸¡ëŸ‰ ìˆ˜ì¤€ì˜ ì •í™•ë„ë¥¼ ë‹¬ì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
            </div>
        </div>

        <div class="section">
            <h2>ğŸ”¬ LTP ë³€í™˜ ì‹œë®¬ë ˆì´í„°</h2>
            <div class="interactive-demo">
                <h3>ì¸¡ì§€ ì¢Œí‘œê³„ â†’ í‰ë©´ ì§êµì¢Œí‘œê³„ ë³€í™˜ ì‹¤ìŠµ</h3>
                
                <div class="input-group">
                    <div>
                        <label>ëª©í‘œ ìœ„ë„ (Latitude):</label><br>
                        <input type="number" id="latitude" value="37.5665" step="0.0001" placeholder="ì˜ˆ: 37.5665">
                    </div>
                    <div>
                        <label>ëª©í‘œ ê²½ë„ (Longitude):</label><br>
                        <input type="number" id="longitude" value="126.9780" step="0.0001" placeholder="ì˜ˆ: 126.9780">
                    </div>
                    <div>
                        <label>ì¶œë ¥ í•´ìƒë„ (í”½ì…€):</label><br>
                        <input type="number" id="mapSize" value="400" min="100" max="800">
                    </div>
                </div>
                
                <div class="input-group">
                    <div>
                        <label>ê¸°ì¤€ì  ìœ„ë„ (Origin Lat):</label><br>
                        <input type="number" id="centerLat" value="37.5650" step="0.0001">
                    </div>
                    <div>
                        <label>ê¸°ì¤€ì  ê²½ë„ (Origin Lon):</label><br>
                        <input type="number" id="centerLon" value="126.9750" step="0.0001">
                    </div>
                </div>
                
                <button class="calc-button" onclick="calculateLTPCoordinates()">LTP ë³€í™˜ ì‹¤í–‰</button>
                
                <div id="result" class="result-display" style="display: none;">
                    <strong>LTP ë³€í™˜ ê²°ê³¼ ë¶„ì„:</strong><br>
                    <span id="resultText"></span>
                </div>
            </div>
        </div>
    </div>

    <script>
        function calculateLTPCoordinates() {
            // ì…ë ¥ê°’ ê°€ì ¸ì˜¤ê¸°
            const lat = parseFloat(document.getElementById('latitude').value);
            const lon = parseFloat(document.getElementById('longitude').value);
            const mapSize = parseInt(document.getElementById('mapSize').value);
            const centerLat = parseFloat(document.getElementById('centerLat').value);
            const centerLon = parseFloat(document.getElementById('centerLon').value);
            
            // ìœ íš¨ì„± ê²€ì‚¬
            if (isNaN(lat) || isNaN(lon) || isNaN(mapSize) || 
                isNaN(centerLat) || isNaN(centerLon)) {
                alert('ëª¨ë“  ê°’ì„ ì˜¬ë°”ë¥´ê²Œ ì…ë ¥í•´ì£¼ì„¸ìš”.');
                return;
            }
            
            // LTP ë³€í™˜ ê³„ì‚°
            const EARTH_RADIUS = 6378137.0;  // ì§€êµ¬ ë°˜ì§€ë¦„ (ë¯¸í„°)
            const DEG_TO_RAD = Math.PI / 180.0;
            
            // 1ë‹¨ê³„: ê¸°ì¤€ì ì„ ë¼ë””ì•ˆìœ¼ë¡œ ë³€í™˜
            const refLatRad = centerLat * DEG_TO_RAD;
            const refLonRad = centerLon * DEG_TO_RAD;
            
            // 2ë‹¨ê³„: í˜„ì¬ ì ì„ ë¼ë””ì•ˆìœ¼ë¡œ ë³€í™˜
            const latRad = lat * DEG_TO_RAD;
            const lonRad = lon * DEG_TO_RAD;
            
            // 3ë‹¨ê³„: ì°¨ì´ ê³„ì‚°
            const deltaLat = latRad - refLatRad;
            const deltaLon = lonRad - refLonRad;
            
            // 4ë‹¨ê³„: ê²½ë„ ë³´ì •ì„ ìœ„í•œ ì½”ì‚¬ì¸ ê°’ ê³„ì‚°
            const cosRefLat = Math.cos(refLatRad);
            
            // 5ë‹¨ê³„: ë¯¸í„° ë‹¨ìœ„ë¡œ ë³€í™˜
            const x_meters = EARTH_RADIUS * deltaLon * cosRefLat;
            const y_meters = EARTH_RADIUS * deltaLat;
            
            // 6ë‹¨ê³„: í™”ë©´ ì¢Œí‘œë¡œ ë³€í™˜
            const margin = 20.0;
            const drawingSize = mapSize - 2.0 * margin;
            
            // ë²”ìœ„ ê³„ì‚° (ê°€ìƒì˜ ë²”ìœ„ - ì‹¤ì œë¡œëŠ” ëª¨ë“  ì ì´ í•„ìš”)
            const rangeX = Math.abs(x_meters) * 2 || 100;
            const rangeY = Math.abs(y_meters) * 2 || 100;
            
            const scale = Math.min(drawingSize / rangeX, drawingSize / rangeY);
            
            const screenX = x_meters * scale + mapSize / 2.0;
            const screenY = -y_meters * scale + mapSize / 2.0;  // Yì¶• ë’¤ì§‘ê¸°
            
            // ê¸°ì¤€ì ìœ¼ë¡œë¶€í„°ì˜ ì‹¤ì œ ê±°ë¦¬ ê³„ì‚°
            const distance = Math.sqrt(x_meters * x_meters + y_meters * y_meters);
            
            // ê²°ê³¼ í‘œì‹œ
            const resultText = `í”½ì…€ ì¢Œí‘œ: (${screenX.toFixed(1)}, ${screenY.toFixed(1)})
í‰ë©´ ì¢Œí‘œ (ë¯¸í„°): X = ${x_meters.toFixed(1)}m, Y = ${y_meters.toFixed(1)}m
ì¸¡ì§€ ê±°ë¦¬: ${distance.toFixed(1)}m
ìœ„ë„ í¸ì°¨: ${(deltaLat * 180 / Math.PI).toFixed(6)}Â°
ê²½ë„ í¸ì°¨: ${(deltaLon * 180 / Math.PI).toFixed(6)}Â°
ê²½ë„ ë³´ì • ê³„ìˆ˜: cos(${centerLat.toFixed(4)}Â°) = ${cosRefLat.toFixed(4)}
ìŠ¤ì¼€ì¼: ${scale.toFixed(4)} í”½ì…€/ë¯¸í„°

ğŸ“ LTP ë³€í™˜ í”„ë¡œì„¸ìŠ¤:
1. ê¸°ì¤€ì  ì„¤ì •: (${centerLat.toFixed(4)}Â°, ${centerLon.toFixed(4)}Â°)
2. í¸ì°¨ ì‚°ì¶œ: Î”Ï†=${(deltaLat * 180 / Math.PI).toFixed(6)}Â°, Î”Î»=${(deltaLon * 180 / Math.PI).toFixed(6)}Â°
3. í‰ë©´ íˆ¬ì˜: X=${x_meters.toFixed(1)}m, Y=${y_meters.toFixed(1)}m
4. í”½ì…€ ë§¤í•‘: (${screenX.toFixed(1)}, ${screenY.toFixed(1)})

ì‹¤ì œ ê±°ë¦¬ ê²€ì¦:
- ì„œìš¸ ì‹œì²­ â†’ ì„œìš¸ì—­: ì•½ 289m (ì‹¤ì¸¡)
- LTP ê³„ì‚° ê²°ê³¼: ${distance.toFixed(1)}m
- ì˜¤ì°¨ìœ¨: ${Math.abs((distance - 289) / 289 * 100).toFixed(2)}%`;
            
            document.getElementById('resultText').innerText = resultText;
            document.getElementById('result').style.display = 'block';
        }
        
        // ì´ˆê¸° ë¡œë“œ ì‹œ ê³„ì‚°
        window.onload = function() {
            calculateLTPCoordinates();
        };
    </script>
</body>
</html>
